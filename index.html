<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ca">
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
	<!--@@ Título a modificar -->
	<title>OpenStreetMap POIs Map</title>
	<!--@@ Título a modificar para la descripción -->
	<meta content="OpenStreetMap POIs Map" name="description"/>

	<link rel="stylesheet" href="src/api/jquery-ui-1.12.1.custom/jquery-ui.min.css" type="text/css"/>
	<link rel="stylesheet" href="src/api/openlayers/v6.2.2-custom/ol.css" type="text/css"/>
	<link rel="stylesheet" href="src/css/font-awesome.css" type="text/css"/>
	<link rel="stylesheet" href="src/css/index.css" type="text/css"/>
	
	<link rel="icon" href="favicon.ico"/>
  <script src="src/translations/i18n.js"></script>
  <script>
    // Language selector
    function setLanguage(lang) {
      loadTranslations(lang, function() {
        // Optionally, trigger a UI refresh
        if (typeof updateUIWithTranslations === 'function') updateUIWithTranslations();
      });
      localStorage.setItem('lang', lang);
    }
    // On load, set language from localStorage or browser
    var userLang = localStorage.getItem('lang') || (navigator.language || navigator.userLanguage || 'en').substring(0,2);
    if (!['en','es','ca'].includes(userLang)) userLang = 'en';
    loadTranslations(userLang);
  </script>
  <style>
    .lang-selector { position:absolute; top:10px; right:10px; z-index:1000; }
  </style>
</head>
<body>
  <div class="lang-selector">
    <select onchange="setLanguage(this.value)">
      <option value="en">English</option>
      <option value="es">Español</option>
      <option value="ca">Català</option>
    </select>
  </div>
	<div class="flex-row">
	<!--@@ Modificar comentario de Javascript -->
		<div id="map" class="map">
      <h2 id="map-title"></h2>
      Loading... You need Javascript...Cargando necesitas Javascript...Carregant...necessites Javascript
    </div>
		<div id="menu" class="osmcat-menu">
			<div id="legend"><h3 id="legend-title"></h3></div>
			<!-- Layer Searcher (at the top) -->
			<div id="layer-search-container">
			  <input type="text" id="layer-search" placeholder="Search layers...">
			  <div id="layer-search-dropdown"></div>
			</div>
			<!-- Layers section -->
			<!-- Overlay Searcher (between Layers and Overlays) -->
			<div id="overlay-search-container">
			  <input type="text" id="overlay-search" placeholder="Search overlays...">
			  <div id="overlay-search-dropdown"></div>
			</div>
			<!-- Overlays section -->
			<div id="overlay-list"></div>
		</div>
	</div>
	<script src="src/api/jquery/3.4.1/jquery.min.js" defer=""></script>
	<script src="src/api/jquery-ui-1.12.1.custom/jquery-ui.min.js" defer=""></script>
	<script src="src/api/openlayers/v6.2.2-custom/ol.js" defer=""></script>
	<script src="src/config.js" defer=""></script>
	<script src="src/layer_search.js" defer=""></script>
	<script src="src/overlay_search.js" defer=""></script>
	<script src="src/index.js" defer=""></script>
	<script src="src/nominatim_search.js" defer=""></script>
	<script src="src/panoramax_viewer.js" defer=""></script>
	<script src="src/mapillary_viewer.js" defer=""></script>
	<script src="src/router.js" defer=""></script>
</body>
</html>
