<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ca">
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<!--@@ Título a modificar -->
	<title>OpenStreetMap POIs Map</title>
	<!--@@ Título a modificar para la descripción -->
	<meta content="OpenStreetMap POIs Map" name="description"/>

	<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" type="text/css"/>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@10.5.0/ol.min.css" type="text/css"/>
	<link rel="stylesheet" href="src/css/font-awesome.css" type="text/css"/>
	<link rel="stylesheet" href="src/css/index.css" type="text/css"/>
	<link rel="stylesheet" href="src/css/language-selector.css" type="text/css"/>
	
	<link rel="icon" href="favicon.ico"/>
</head>
<body>
	<div class="flex-row">
	<!--@@ Modificar comentario de Javascript -->
		<div id="map" class="map">Loading... You need Javascript...Cargando necesitas Javascript...Carregant...necessites Javascript</div>
		<div id="menu" class="menu">
			<!-- Language Selector -->
			<div id="language-selector-container" class="language-selector-wrapper"></div>
			<!-- Layer Searcher (at the top) -->
			<div id="layer-search-container" style="margin: 10px 0;">
			  <input type="text" id="layer-search" data-i18n="layersLabel" placeholder="Search layers..." style="width: 100%; padding: 5px;">
			  <div id="layer-search-dropdown"></div>
			</div>
			<!-- Layers section -->
			<!-- Overlay Searcher (between Layers and Overlays) -->
			<div id="overlay-search-container" style="margin: 10px 0;">
			  <input type="text" id="overlay-search" data-i18n="overlaysLabel" placeholder="Search overlays..." style="width: 100%; padding: 5px;">
			  <div id="overlay-search-dropdown"></div>
			</div>
			<!-- Overlays section -->
			<div id="overlay-list"></div>
		</div>
	</div>
	<!-- Core Libraries -->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo3dQ5yXthFCf6WTqjO1U=" crossorigin="anonymous"></script>
	
	<!-- External Libraries with Global Scope -->
	<script src="https://unpkg.com/osmtogeojson@3.0.0-beta.5/osmtogeojson.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.8.0/proj4.js"></script>
	<script src="https://unpkg.com/@maptiler/sdk/dist/maptiler-sdk.umd.min.js"></script>

	<!-- OpenLayers ES Module Configuration -->
	<script type="importmap">
	{
		"imports": {
			"ol": "https://cdn.jsdelivr.net/npm/ol@10.5.0/dist/ol.js",
			"ol/layer": "https://cdn.jsdelivr.net/npm/ol@10.5.0/dist/ol/layer.js",
			"ol/source": "https://cdn.jsdelivr.net/npm/ol@10.5.0/dist/ol/source.js",
			"ol/format": "https://cdn.jsdelivr.net/npm/ol@10.5.0/dist/ol/format.js",
			"ol/tilegrid": "https://cdn.jsdelivr.net/npm/ol@10.5.0/dist/ol/tilegrid.js"
		}
	}
	</script>

	<!-- Application Modules (in dependency order) -->
	<script type="module" src="src/i18n/index.js"></script>
	<script type="module" src="src/components/LanguageSelector.js"></script>
	<script type="module" src="src/language_init.js"></script>
	
	<!-- Vector Tile Style (must be loaded before config) -->
	<script type="module" src="src/assets/styles/vector-tile-style.js"></script>
	
	<!-- Configuration (depends on vector-tile-style) -->
	<script type="module" src="src/config.js"></script>

	<!-- Overlay Modules -->
	<script type="module" src="src/overlays/translated_overlays.js"></script>
	<script type="module" src="src/overlays/external/loader.js"></script>
	<script type="module" src="src/overlays/index.js"></script>
	<script type="module" src="src/overlay_integration.js"></script>

	<!-- Main Application -->
	<script type="module" src="src/init.js"></script>

	<!-- Legacy Scripts (to be converted to modules) -->
	<script type="module" src="src/layer_search.js"></script>
	<script type="module" src="src/overlay_search.js"></script>
	<script type="module" src="src/nominatim_search.js"></script>
	<script type="module" src="src/panoramax_viewer.js"></script>
	<script type="module" src="src/mapillary_viewer.js"></script>
	<script type="module" src="src/router.js"></script>
	<script type="module" src="src/index.js"></script>
</body>
</html>
