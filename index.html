<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ca">
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<!--@@ Título a modificar -->
	<title>OpenStreetMap POIs Map</title>
	<!--@@ Título a modificar para la descripción -->
	<meta content="OpenStreetMap POIs Map" name="description"/>

	<link rel="stylesheet" href="src/api/jquery-ui-1.12.1.custom/jquery-ui.min.css" type="text/css"/>
	<link rel="stylesheet" href="src/api/openlayers/v6.2.2-custom/ol.css" type="text/css"/>
	<link rel="stylesheet" href="src/css/font-awesome.css" type="text/css"/>
	<link rel="stylesheet" href="src/css/index.css" type="text/css"/>
	
	<link rel="icon" href="favicon.ico"/>
</head>
<body>
	<div class="flex-row">
	<!--@@ Modificar comentario de Javascript -->
		<div id="map" class="map">Loading... You need Javascript...Cargando necesitas Javascript...Carregant...necessites Javascript</div>
		<div id="menu" class="menu">
			<div id="language-selector" class="language-selector">
				<select id="lang-select" aria-label="Select language">
					<option value="en">English</option>
					<option value="es">Español</option>
					<option value="ca">Català</option>
				</select>
			</div>
		</div>
	</div>
	<script src="src/api/jquery/3.4.1/jquery.min.js"></script>
	<script src="src/api/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
	<script src="src/api/openlayers/v6.2.2-custom/ol.js"></script>
	<script src="src/translations/index.js"></script>
	<script src="src/config.js"></script>
	<script src="src/index.js"></script>
	<script src="src/nominatim_search.js"></script>
	<script src="src/panoramax_viewer.js"></script>
	<script src="src/router.js"></script>
	<script>
		// Initialize translations after all scripts are loaded
		document.addEventListener('DOMContentLoaded', function() {
			if (window.i18n) {
				// Set initial language from localStorage or browser language
				var lang = localStorage.getItem('language') || 
						  (navigator.language || navigator.userLanguage).split('-')[0];
				if (window.i18n.translations[lang]) {
					window.i18n.setLanguage(lang);
				}

				// Set up language selector
				var select = document.getElementById('lang-select');
				if (select) {
					select.value = window.i18n.getCurrentLanguage();
					select.addEventListener('change', function(e) {
						window.i18n.setLanguage(e.target.value);
					});
				}
			}
		});
	</script>
</body>
</html>
